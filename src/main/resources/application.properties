# Application
spring.application.name=WebPet
server.port=8081

# Database
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5433/webpet_db}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:postgres}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Security - JWT Secret obrigat√≥rio via environment variable
api.security.token.secret=${JWT_SECRET}

# CORS
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000}
app.cors.max-age=3600

# Logging Configuration
app.logging.format=${LOGGING_FORMAT:console}

# Structured Logging
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level [%X{correlationId:-}] [%X{clientIp:-}] [%X{userId:-}] %logger{36} - %msg%n

# Log Levels by Environment
logging.level.br.edu.utfpr.alunos.webpet=${LOG_LEVEL_APP:INFO}
logging.level.SECURITY=${LOG_LEVEL_SECURITY:INFO}
logging.level.AUDIT=${LOG_LEVEL_AUDIT:INFO}
logging.level.org.springframework.security=${LOG_LEVEL_SPRING_SECURITY:WARN}
logging.level.org.hibernate=${LOG_LEVEL_HIBERNATE:WARN}
logging.level.org.springframework.web=${LOG_LEVEL_WEB:WARN}
logging.level.com.zaxxer.hikari=${LOG_LEVEL_HIKARI:WARN}
logging.level.root=${LOG_LEVEL_ROOT:INFO}

# Security Logging
security.logging.enabled=${SECURITY_LOGGING_ENABLED:true}
security.logging.include-request-details=${SECURITY_LOG_REQUEST_DETAILS:true}
security.logging.include-user-details=${SECURITY_LOG_USER_DETAILS:true}

# Audit Logging  
audit.logging.enabled=${AUDIT_LOGGING_ENABLED:true}
audit.logging.include-ip=${AUDIT_LOG_INCLUDE_IP:true}
audit.logging.include-user-agent=${AUDIT_LOG_INCLUDE_USER_AGENT:false}

# Performance Logging
performance.logging.enabled=${PERFORMANCE_LOGGING_ENABLED:false}
performance.logging.threshold-ms=${PERFORMANCE_LOG_THRESHOLD:1000}

# File Logging (Production)
logging.file.name=${LOG_FILE_NAME:logs/webpet.log}
logging.file.max-size=${LOG_FILE_MAX_SIZE:50MB}
logging.file.max-history=${LOG_FILE_MAX_HISTORY:30}
logging.file.total-size-cap=${LOG_FILE_TOTAL_SIZE:1GB}

# JSON Logging Configuration
logging.json.enabled=${JSON_LOGGING_ENABLED:false}
logging.json.include-mdc=${JSON_INCLUDE_MDC:true}
logging.json.include-context=${JSON_INCLUDE_CONTEXT:true}

# Rate Limiting Configuration
rate-limit.general.requests-per-minute=${RATE_LIMIT_GENERAL:100}
rate-limit.auth.requests-per-minute=${RATE_LIMIT_AUTH:10}
rate-limit.cache-size=${RATE_LIMIT_CACHE_SIZE:10000}

# Rate Limiting Logs
rate-limit.logging.enabled=${RATE_LIMIT_LOGGING_ENABLED:true}
rate-limit.logging.log-blocked-requests=${RATE_LIMIT_LOG_BLOCKED:true}

# Cache Configuration
spring.cache.type=simple
spring.cache.cache-names=userProfiles,rateLimits,authTokens

# Health Check Configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized
management.health.diskspace.enabled=true